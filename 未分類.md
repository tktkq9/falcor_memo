# 未分類

## SampleGenerator
レイトレとかで使うサンプル生成slang管理クラス  

シェーダー側のSampleGeneratorはSampleGeneratorType.slanghにある#defineでどのサンプラーを使うか決めればいいだけなので、  
このクラスではそのDefineListを管理しているだけ  

### SampleGenerator.slang
1D、2D、3DサンプルをSampleGeneratorから作成する  
SampleGeneratorはISampleGeneratorインターフェースによってによって実装されている

ISampleGeneratorは
UniformSampleGenerator.slangとTinyUniformSampleGenerator.slangの2つであり、
SampleGeneratorType.slanghで定義されている#defineでどちらを使うが制御される  

### UniformSampleGenerator.slang
一様ランダム   
SplitMix64でpixelとsampleNumberからseedを作り、 
Xoshiroでランダム生成をしている  

### TinyUniformSampleGenerator.slang
軽い一様ランダム  
pixelとsampleNumberからseedを作り、 
LCGでランダム生成している  


## PixelDebug
ｋ
imguiのwidget.checkbox("Pixel debug", mEnabled)にチェックを入れると動く  
セレクトしたピクセル情報もまたimguiで表示される  

beginFramejでピクセル情報を格納するストラクチャーバッファーとそれをリードバックするバッファーを確保  
endFrameでcopyBufferRegionしてストラクチャーバッファーをリードバックバッファー（ログの配列サイズをmpCounterBuffer、配列の中身をmpDataBuffer）にコピー  
prepareProgramでシェーダー変数設定  
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTgyMzM5MjM4NiwyMDk3NDIzNjEsMjA4Nj
QzNTM1OCwxNDI0MDc5NTk2LC0xMTExNTczMjc4LC02MDgwMDYy
MjMsLTE5MjY3NjA2NjAsMTU3MTIxMjA0MywtMTk5Njg0NDQ3OS
w4NzI1ODkwMTYsLTE5MDcxNjU3NzMsLTU5MTkzMDY4MCwtNTE4
MDkzMjQ4LC0xOTYwMTI3OTY2LDkxNjAyMjc0NywtMTA2NTM2Mj
Q1OCw4NjY2OTI5NDYsLTQ0NDY5MTc1MF19
-->